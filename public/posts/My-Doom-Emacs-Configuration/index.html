<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Intro Forewords  A few words about my background. I&rsquo;m a researcher in the field of social science. I don&rsquo;t program much, but Emacs is essential for both my work and leisure projects. I&rsquo;m using Emacs for interacting with R environment, composing long format texts, and managing my schedule as well as logging everyday life. I&rsquo;m using GNU Emacs under the Doom Emacs configuration framework. I&rsquo;m running my Emacs in iTerm2&ndash;a terminal emulator for macOS."><meta property="og:title" content="My Doom Emacs Configuration" />
<meta property="og:description" content="Intro Forewords  A few words about my background. I&rsquo;m a researcher in the field of social science. I don&rsquo;t program much, but Emacs is essential for both my work and leisure projects. I&rsquo;m using Emacs for interacting with R environment, composing long format texts, and managing my schedule as well as logging everyday life. I&rsquo;m using GNU Emacs under the Doom Emacs configuration framework. I&rsquo;m running my Emacs in iTerm2&ndash;a terminal emulator for macOS." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://soitflows.xyz/posts/My-Doom-Emacs-Configuration/" />
<meta property="article:published_time" content="2020-06-16T00:00:00+02:00" />
<meta property="article:modified_time" content="2020-06-16T00:00:00+02:00" />
<title>My Doom Emacs Configuration | ‚ò¥ so it flows ‚òµ</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.55d0a09c72b2b1af8595e78357b26759f31e2e79c37082a05215aa9899c44dfc.css" integrity="sha256-VdCgnHKysa&#43;FleeDV7JnWfMeLnnDcIKgUhWqmJnETfw=">
<script defer src="/en.search.min.8c0ba8bc69e62b1fe20c9fe6c3ce9d261c70e85b562fa7888c9066fce2ec05da.js" integrity="sha256-jAuovGnmKx/iDJ/mw86dJhxw6FtWL6eIjJBm/OLsBdo="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><img src="/logo.png" alt="Logo" /><span>‚ò¥ so it flows ‚òµ</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  

  
  





 
  
    




  
  <ul>
    
      
        

  <li>
    

  
  <a href="/docs/fic/" class="">Fictions</a>
  


    




  
  <ul>
    
  </ul>
  



  </li>


      
    
      
        

  <li>
    

  
  <a href="/docs/nonfic/" class="">Nonfictions</a>
  


    




  
  <ul>
    
  </ul>
  



  </li>


      
    
  </ul>
  



  












  
<ul>
  
  <li>
    <a href="/posts/" >
        Life Misc
      </a>
  </li>
  
</ul>





<p align="center">
&#8258;
</p>
<p align="left">
<a href="https://twitter.com/na_naskuv">üê¶Twitter</a>
<br>
<br>
<a href="https://flickr.com/photos/ee-jain/">üì∑Flickr</a>
<br>
<br>
<a href="https://www.douban.com/people/hessen/">üìóDouban</a>
</p>

</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>My Doom Emacs Configuration</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#intro">Intro</a>
          <ul>
            <li><a href="#forewords">Forewords</a></li>
            <li><a href="#instructions">Instructions</a></li>
          </ul>
        </li>
        <li><a href="#global-backends">Global Backends</a>
          <ul>
            <li><a href="#doom-default">Doom default</a></li>
            <li><a href="#change-the-default-encoding-to-utf-8-more-suitable-for-multi-lan-environment">Change the default encoding to UTF-8, more suitable for multi-lan environment</a></li>
            <li><a href="#do-not-create-lockfiles-for-files-being-edited">Do not create lockfiles for files being edited</a></li>
            <li><a href="#company-config">Company config</a></li>
            <li><a href="#ivy-config">Ivy config</a></li>
            <li><a href="#dired-config">Dired config</a></li>
          </ul>
        </li>
        <li><a href="#global-looks">Global Looks</a>
          <ul>
            <li><a href="#color-scheme-and-font">Color scheme and font</a></li>
            <li><a href="#set-up-cursor-shape-in-iterm-emacs-for-indicating-edit-normal-mode">Set up cursor shape in iterm emacs for indicating edit/normal mode</a></li>
            <li><a href="#function-to-set-visual-line-width">Function to set visual line width</a></li>
          </ul>
        </li>
        <li><a href="#global-editing">Global Editing</a>
          <ul>
            <li><a href="#key-binding-for-emacs-in-iterm2-environment">Key binding for Emacs in iTerm2 environment</a></li>
            <li><a href="#copy-paste-from-external-clipboard--for-terminal-emacs-window">Copy paste from external clipboard (for terminal emacs window)</a></li>
          </ul>
        </li>
        <li><a href="#org-mode-backends">Org Mode Backends</a>
          <ul>
            <li><a href="#org-directory">Org directory</a></li>
            <li><a href="#org-keywords-and-tags">Org keywords and tags</a></li>
            <li><a href="#org-setup">Org setup</a></li>
            <li><a href="#org-capture">Org capture</a></li>
            <li><a href="#org-journal">org-journal</a></li>
            <li><a href="#org-babel">org-babel</a></li>
          </ul>
        </li>
        <li><a href="#org-mode-looks">Org Mode Looks</a>
          <ul>
            <li><a href="#change-the-character-that-displays-on-collapsed-headings">Change the character that displays on collapsed headings</a></li>
            <li><a href="#line-wrapping">Line wrapping</a></li>
          </ul>
        </li>
        <li><a href="#org-mode-editing">Org Mode Editing</a>
          <ul>
            <li><a href="#key-binding-for-showing-all-todo-headings">Key binding for showing all todo headings</a></li>
            <li><a href="#key-binding-for-outline-quicklook-goto">Key binding for outline quicklook/goto</a></li>
            <li><a href="#key-binding-for-jumping-to-the-end-of-the-line">Key binding for jumping to the end of the line</a></li>
            <li><a href="#key-binding-to-insert-newlines-above-and-below">Key binding to insert newlines above and below</a></li>
            <li><a href="#function-to-duplicate-certain-line">Function to duplicate certain line</a></li>
            <li><a href="#function-to-create-new-scratch-buffer-in-org">Function to create new scratch buffer in Org</a></li>
            <li><a href="#auto-update-org-toc">Auto update Org toc</a></li>
          </ul>
        </li>
        <li><a href="#markdown-mode-looks">Markdown Mode Looks</a></li>
        <li><a href="#hugo-related-config">Hugo Related Config</a></li>
        <li><a href="#r-related-config">R Related Config</a>
          <ul>
            <li><a href="#ess-r-config">ESS R config</a></li>
            <li><a href="#combine-r-and-markdown-mode-in-one-buffer-with-polymode">Combine R and markdown mode in one buffer with polymode</a></li>
          </ul>
        </li>
        <li><a href="#appendix">Appendix</a>
          <ul>
            <li><a href="#init-dot-el">init.el</a></li>
            <li><a href="#pacakges-dot-el">pacakges.el</a></li>
          </ul>
        </li>
        <li><a href="#source-files">Source Files</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
<article class="markdown">
  <h1>
    <a href="/posts/My-Doom-Emacs-Configuration/">My Doom Emacs Configuration</a>
  </h1>
  

  <h5>Jun 16, 2020</h5>



  

  
  <div>
    
        <a href="/tags/technology/">technology</a>
  </div>
  


  <p><h2 id="intro">Intro</h2>
<h3 id="forewords">Forewords</h3>
<ul>
<li>A few words about my background. I&rsquo;m a researcher in the field of social science. I don&rsquo;t program much, but Emacs is essential for both my work and leisure projects. I&rsquo;m using Emacs for interacting with R environment, composing long format texts, and managing my schedule as well as logging everyday life.</li>
<li>I&rsquo;m using 
  <a href="https://formulae.brew.sh/formula/emacs">GNU Emacs</a> under the 
  <a href="https://github.com/hlissner/doom-emacs">Doom Emacs</a> configuration framework. I&rsquo;m running my Emacs in
  <a href="https://www.iterm2.com/"> iTerm2</a>&ndash;a terminal emulator for macOS.</li>
</ul>
<h3 id="instructions">Instructions</h3>
<ul>
<li>Run the following in the terminal. References: <a href="https://github.com/hlissner/doom-emacs/blob/develop/docs/getting%5Fstarted.org">https://github.com/hlissner/doom-emacs/blob/develop/docs/getting%5Fstarted.org</a></li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">brew install git ripgrep
brew install coreutils fd
xcode-select --install
brew install emacs
git clone https://github.com/hlissner/doom-emacs ~/.emacs.d
~/.emacs.d/bin/doom install
</code></pre></div><ul>
<li>Add <code>export PATH=~/.emacs.d/bin:$PATH</code> in .zshrc to use the bin/doom utility anywhere in terminal</li>
<li>Turn on <code>literate</code> in init.el in .dooms.d, then create config.org</li>
<li>Run <code>M-x doom/reload</code> in Emacs after changing the config.org, this will extract the Lisp source codes automatically to config.el</li>
<li>Run <code>doom sync</code> in terminal every time the package.el is changed</li>
<li>How to debug:
<ul>
<li>turn on <code>toggle-debug-on-error</code>, then <code>doom/reload</code></li>
<li>run <code>doom doctor</code> in terminal</li>
</ul>
</li>
</ul>
<h2 id="global-backends">Global Backends</h2>
<h3 id="doom-default">Doom default</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(package-initialize <span style="color:#66d9ef">t</span>)
(setq <span style="color:#a6e22e">user-full-name</span> <span style="color:#e6db74">&#34;Eejain Huang&#34;</span>
      user-mail-address <span style="color:#e6db74">&#34;huangyizhen2002@hotmail.com&#34;</span>)
</code></pre></div><h3 id="change-the-default-encoding-to-utf-8-more-suitable-for-multi-lan-environment">Change the default encoding to UTF-8, more suitable for multi-lan environment</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(prefer-coding-system       <span style="color:#e6db74">&#39;utf-8</span>)
(set-default-coding-systems <span style="color:#e6db74">&#39;utf-8</span>)
(set-terminal-coding-system <span style="color:#e6db74">&#39;utf-8</span>)
(set-keyboard-coding-system <span style="color:#e6db74">&#39;utf-8</span>)
(setq default-buffer-file-coding-system <span style="color:#e6db74">&#39;utf-8</span>)
</code></pre></div><h3 id="do-not-create-lockfiles-for-files-being-edited">Do not create lockfiles for files being edited</h3>
<p>references: <a href="https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#completioncompany">https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#completioncompany</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (setq create-lockfiles <span style="color:#66d9ef">nil</span>)
</code></pre></div><h3 id="company-config">Company config</h3>
<p>reference: <a href="https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#completioncompany">https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#completioncompany</a></p>
<h4 id="set-maximum-candidates-for-company-box">Set maximum candidates for <code>company-box</code></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (after! company-box
    (setq company-box-max-candidates <span style="color:#ae81ff">5</span>))
</code></pre></div><h4 id="setup-company-perscient">Setup <code>company-perscient</code></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (use-package company-prescient
    :after company
    :hook (company-mode <span style="color:#f92672">.</span> company-prescient-mode))
</code></pre></div><h4 id="setup-company-ui">Setup company ui</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (after! company
    (setq company-tooltip-limit <span style="color:#ae81ff">5</span>
          company-tooltip-minimum-width <span style="color:#ae81ff">80</span>
          company-tooltip-minimum <span style="color:#ae81ff">5</span>
          company-backends
          <span style="color:#f92672">&#39;</span>(company-capf company-dabbrev company-files company-yasnippet)
          company-global-modes <span style="color:#f92672">&#39;</span>(not comint-mode erc-mode message-mode help-mode gud-mode)))
</code></pre></div><h3 id="ivy-config">Ivy config</h3>
<p>reference: <a href="https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#completioncompany">https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#completioncompany</a></p>
<h4 id="set-ripgrep-as-the-default-program-for-ivy-project-search">Set ripgrep as the default program for ivy project search</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (setq +ivy-project-search-engines <span style="color:#f92672">&#39;</span>(rg))
</code></pre></div><h4 id="setup-ivy-rich">Setup <code>ivy-rich</code></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(after! ivy-rich
  (setq ivy-rich-display-transformers-list
        <span style="color:#f92672">&#39;</span>(ivy-switch-buffer
          (:columns
           ((ivy-rich-candidate (:width <span style="color:#ae81ff">30</span> :face bold))
            (ivy-rich-switch-buffer-size (:width <span style="color:#ae81ff">7</span> :face font-lock-doc-face))
            (ivy-rich-switch-buffer-indicators (:width <span style="color:#ae81ff">4</span> :face <span style="color:#a6e22e">error</span> :align right))
            (ivy-rich-switch-buffer-major-mode (:width <span style="color:#ae81ff">18</span> :face doom-modeline-buffer-major-mode))
            (ivy-rich-switch-buffer-path (:width <span style="color:#ae81ff">50</span>)))
           :predicate
           (lambda (cand) (<span style="color:#a6e22e">get-buffer</span> cand)))
          +ivy/switch-workspace-buffer
          (:columns
           ((ivy-rich-candidate (:width <span style="color:#ae81ff">30</span> :face bold))
            (ivy-rich-switch-buffer-size (:width <span style="color:#ae81ff">7</span> :face font-lock-doc-face))
            (ivy-rich-switch-buffer-indicators (:width <span style="color:#ae81ff">4</span> :face <span style="color:#a6e22e">error</span> :align right))
            (ivy-rich-switch-buffer-major-mode (:width <span style="color:#ae81ff">18</span> :face doom-modeline-buffer-major-mode))
            (ivy-rich-switch-buffer-path (:width <span style="color:#ae81ff">50</span>)))
           :predicate
           (lambda (cand) (<span style="color:#a6e22e">get-buffer</span> cand)))
          counsel-M-x
          (:columns
           ((counsel-M-x-transformer (:width <span style="color:#ae81ff">40</span>))
            (ivy-rich-counsel-function-docstring (:face font-lock-doc-face :width <span style="color:#ae81ff">80</span>))))
          counsel-describe-function
          (:columns
           ((counsel-describe-function-transformer (:width <span style="color:#ae81ff">40</span>))
            (ivy-rich-counsel-function-docstring (:face font-lock-doc-face :width <span style="color:#ae81ff">80</span>))))
          counsel-describe-variable
          (:columns
           ((counsel-describe-variable-transformer (:width <span style="color:#ae81ff">40</span>))
            (ivy-rich-counsel-variable-docstring (:face font-lock-doc-face :width <span style="color:#ae81ff">80</span>))))
          counsel-recentf
          (:columns
           ((ivy-rich-candidate (:width <span style="color:#ae81ff">100</span>))
            (ivy-rich-file-last-modified-time (:face font-lock-doc-face)))))))

(after! counsel
  (setq counsel-evil-registers-height <span style="color:#ae81ff">20</span>
        counsel-yank-pop-height <span style="color:#ae81ff">20</span>
        counsel-org-goto-face-style <span style="color:#e6db74">&#39;org</span>
        counsel-org-headline-display-style <span style="color:#e6db74">&#39;title</span>
        counsel-org-headline-display-tags <span style="color:#66d9ef">t</span>
        counsel-org-headline-display-todo <span style="color:#66d9ef">t</span>))
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (after! ivy
    (setq ivy-posframe-parameters
          <span style="color:#f92672">`</span>((min-width <span style="color:#f92672">.</span> <span style="color:#ae81ff">160</span>)
            (min-height <span style="color:#f92672">.</span> <span style="color:#f92672">,</span>ivy-height)
            (left-fringe <span style="color:#f92672">.</span> <span style="color:#ae81ff">0</span>)
            (right-fringe <span style="color:#f92672">.</span> <span style="color:#ae81ff">0</span>)
            (internal-border-width <span style="color:#f92672">.</span> <span style="color:#ae81ff">10</span>))
          ivy-display-functions-alist
          <span style="color:#f92672">&#39;</span>((counsel-git-grep)
            (counsel-grep)
            (counsel-pt)
            (counsel-ag)
            (counsel-rg)
            (counsel-notmuch)
            (swiper)
            (counsel-irony <span style="color:#f92672">.</span> ivy-display-function-overlay)
            (ivy-completion-in-region <span style="color:#f92672">.</span> ivy-display-function-overlay)
            (<span style="color:#66d9ef">t</span> <span style="color:#f92672">.</span> ivy-posframe-display-at-frame-center))))
(after! ivy
  (setq ivy-use-selectable-prompt <span style="color:#66d9ef">t</span>
        ivy-auto-select-single-candidate <span style="color:#66d9ef">t</span>
        ivy-rich-parse-remote-buffer <span style="color:#66d9ef">nil</span>
        +ivy-buffer-icons <span style="color:#66d9ef">nil</span>
        ivy-use-virtual-buffers <span style="color:#66d9ef">nil</span>
        ivy-magic-slash-non-match-action <span style="color:#e6db74">&#39;ivy-magic-slash-non-match-cd-selected</span>
        ivy-height <span style="color:#ae81ff">20</span>
        ivy-rich-switch-buffer-name-max-length <span style="color:#ae81ff">50</span>))
</code></pre></div><h4 id="add-helpful-action-to-counsel-m-x">Add helpful action to <code>counsel-M-x</code></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (after! ivy
    (ivy-add-actions
     <span style="color:#e6db74">&#39;counsel-M-x</span>
     <span style="color:#f92672">`</span>((<span style="color:#e6db74">&#34;h&#34;</span> +ivy/helpful-function <span style="color:#e6db74">&#34;Helpful&#34;</span>))))
</code></pre></div><h4 id="setup-counsel-tramp">Setup <code>counsel-tramp</code></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (use-package counsel-tramp
    :commands (counsel-tramp))
</code></pre></div><h4 id="setup-all-the-icons-ivy">Setup 
  <a href="https://github.com/asok/all-the-icons-ivy">all-the-icons-ivy</a></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(use-package all-the-icons-ivy
  :after ivy
  :config
  (dolist (cmd <span style="color:#f92672">&#39;</span>( counsel-find-file
                  counsel-file-jump
                  projectile-find-file
                  counsel-projectile-find-file
                  counsel-dired-jump counsel-projectile-find-dir
                  counsel-projectile-switch-project))
    (ivy-set-display-transformer cmd <span style="color:#a6e22e">#&#39;</span>all-the-icons-ivy-file-transformer)))
</code></pre></div><h3 id="dired-config">Dired config</h3>
<p>reference: <a href="https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#completioncompany">https://github.com/Brettm12345/doom-emacs-literate-config/blob/master/config.org#completioncompany</a></p>
<h4 id="set-dired-k-to-use-human-readable-styles">Set <code>dired-k</code> to use human readable styles</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (after! dired-k
    (setq dired-k-human-readable <span style="color:#66d9ef">t</span>))
</code></pre></div><h4 id="set-dired-k-filesize-colors">Set <code>dired-k</code> filesize colors</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (after! dired-k
    (setq dired-k-size-colors
          <span style="color:#f92672">`</span>((<span style="color:#ae81ff">1024</span> <span style="color:#f92672">.</span>   <span style="color:#f92672">,</span>(doom-lighten (doom-color <span style="color:#e6db74">&#39;green</span>) <span style="color:#ae81ff">0.3</span>))
            (<span style="color:#ae81ff">2048</span> <span style="color:#f92672">.</span>   <span style="color:#f92672">,</span>(doom-lighten (doom-color <span style="color:#e6db74">&#39;green</span>) <span style="color:#ae81ff">0.2</span>))
            (<span style="color:#ae81ff">3072</span> <span style="color:#f92672">.</span>   <span style="color:#f92672">,</span>(doom-lighten (doom-color <span style="color:#e6db74">&#39;green</span>) <span style="color:#ae81ff">0.1</span>))
            (<span style="color:#ae81ff">5120</span> <span style="color:#f92672">.</span>   <span style="color:#f92672">,</span>(doom-color <span style="color:#e6db74">&#39;green</span>))
            (<span style="color:#ae81ff">10240</span> <span style="color:#f92672">.</span>  <span style="color:#f92672">,</span>(doom-lighten (doom-color <span style="color:#e6db74">&#39;yellow</span>) <span style="color:#ae81ff">0.2</span>))
            (<span style="color:#ae81ff">20480</span> <span style="color:#f92672">.</span>  <span style="color:#f92672">,</span>(doom-lighten (doom-color <span style="color:#e6db74">&#39;yellow</span>) <span style="color:#ae81ff">0.1</span>))
            (<span style="color:#ae81ff">40960</span> <span style="color:#f92672">.</span>  <span style="color:#f92672">,</span>(doom-color <span style="color:#e6db74">&#39;yellow</span>))
            (<span style="color:#ae81ff">102400</span> <span style="color:#f92672">.</span> <span style="color:#f92672">,</span>(doom-lighten (doom-color <span style="color:#e6db74">&#39;orange</span>) <span style="color:#ae81ff">0.2</span>))
            (<span style="color:#ae81ff">262144</span> <span style="color:#f92672">.</span> <span style="color:#f92672">,</span>(doom-lighten (doom-color <span style="color:#e6db74">&#39;orange</span>) <span style="color:#ae81ff">0.1</span>))
            (<span style="color:#ae81ff">524288</span> <span style="color:#f92672">.</span> <span style="color:#f92672">,</span>(doom-color <span style="color:#e6db74">&#39;orange</span>)))))
</code></pre></div><h4 id="enable-diredfl-mode-on-dired-buffers">Enable <code>diredfl-mode</code> on <code>dired</code> buffers</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (use-package diredfl
    :hook (dired-mode <span style="color:#f92672">.</span> diredfl-mode))
</code></pre></div><h4 id="setup-peep-dired">Setup <code>peep-dired</code></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (use-package peep-dired
    :after dired
    :defer <span style="color:#66d9ef">t</span>
    :commands (peep-dired))
</code></pre></div><h2 id="global-looks">Global Looks</h2>
<h3 id="color-scheme-and-font">Color scheme and font</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq doom-font (<span style="color:#a6e22e">font-spec</span> :faimily <span style="color:#e6db74">&#34;monospace&#34;</span> :size <span style="color:#ae81ff">14</span>))
(setq doom-theme <span style="color:#e6db74">&#39;doom-tomorrow-night</span>)
(setq display-line-numbers-style <span style="color:#e6db74">&#39;relative</span>)
</code></pre></div><h3 id="set-up-cursor-shape-in-iterm-emacs-for-indicating-edit-normal-mode">Set up cursor shape in iterm emacs for indicating edit/normal mode</h3>
<p>the cursor shape of different vim mode is identical by default. use package term-cursor</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (use-package term-cursor)
  (global-term-cursor-mode)
</code></pre></div><h3 id="function-to-set-visual-line-width">Function to set visual line width</h3>
<p>references: <a href="https://www.emacswiki.org/emacs/VisualLineMode">https://www.emacswiki.org/emacs/VisualLineMode</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"> (defvar visual-wrap-column <span style="color:#66d9ef">nil</span>)
 (defun set-visual-wrap-column (new-wrap-column <span style="color:#66d9ef">&amp;optional</span> buffer)
      <span style="color:#e6db74">&#34;Force visual line wrap at NEW-WRAP-COLUMN in BUFFER (defaults
</span><span style="color:#e6db74">    to current buffer) by setting the right-hand margin on every
</span><span style="color:#e6db74">    window that displays BUFFER.  A value of NIL or 0 for
</span><span style="color:#e6db74">    NEW-WRAP-COLUMN disables this behavior.&#34;</span>
      (interactive (<span style="color:#a6e22e">list</span> (read-number <span style="color:#e6db74">&#34;New visual wrap column, 0 to disable: &#34;</span> (or visual-wrap-column fill-column <span style="color:#ae81ff">0</span>))))
      (if (and (<span style="color:#a6e22e">numberp</span> new-wrap-column)
               (zerop new-wrap-column))
        (setq new-wrap-column <span style="color:#66d9ef">nil</span>))
      (with-current-buffer (or buffer (<span style="color:#a6e22e">current-buffer</span>))
        (visual-line-mode <span style="color:#66d9ef">t</span>)
        (<span style="color:#a6e22e">set</span> (<span style="color:#a6e22e">make-local-variable</span> <span style="color:#e6db74">&#39;visual-wrap-column</span>) new-wrap-column)
        (add-hook <span style="color:#e6db74">&#39;window-configuration-change-hook</span> <span style="color:#e6db74">&#39;update-visual-wrap-column</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
        (let ((windows (get-buffer-window-list)))
          (while windows
            (when (<span style="color:#a6e22e">window-live-p</span> (<span style="color:#a6e22e">car</span> windows))
              (with-selected-window (<span style="color:#a6e22e">car</span> windows)
                (update-visual-wrap-column)))
            (setq windows (<span style="color:#a6e22e">cdr</span> windows))))))
    (defun update-visual-wrap-column ()
      (if (not visual-wrap-column)
        (<span style="color:#a6e22e">set-window-margins</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">nil</span>)
        (let* ((current-margins (<span style="color:#a6e22e">window-margins</span>))
               (right-margin (or (<span style="color:#a6e22e">cdr</span> current-margins) <span style="color:#ae81ff">0</span>))
               (current-width (window-width))
               (current-available (<span style="color:#a6e22e">+</span> current-width right-margin)))
          (if (<span style="color:#a6e22e">&lt;=</span> current-available visual-wrap-column)
            (<span style="color:#a6e22e">set-window-margins</span> <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">car</span> current-margins))
            (<span style="color:#a6e22e">set-window-margins</span> <span style="color:#66d9ef">nil</span> (<span style="color:#a6e22e">car</span> current-margins)
                                (<span style="color:#a6e22e">-</span> current-available visual-wrap-column))))))
</code></pre></div><h2 id="global-editing">Global Editing</h2>
<h3 id="key-binding-for-emacs-in-iterm2-environment">Key binding for Emacs in iTerm2 environment</h3>
<p><a href="https://stackoverflow.com/questions/10660060/how-do-i-bind-c-in-emacs/40222318#40222318">https://stackoverflow.com/questions/10660060/how-do-i-bind-c-in-emacs/40222318#40222318</a>
workflow: in iterm, set preferences-key add a keyboard short cut with emacs key
binding, then choose Send Escape Sequence as the Action, then use the
my/global-map-and-set-key funtion below to bind the short cut to the original
emacs function (find out the function by running describe the key function)
the current key map in iterm is saved in iterm_emacs.itermkeymap</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">
<span style="color:#75715e">;; define function</span>
(defun my/global-map-and-set-key (key command <span style="color:#66d9ef">&amp;optional</span> prefix suffix)
  <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">`my/map-key&#39;</span><span style="color:#e6db74"> KEY then </span><span style="color:#e6db74">`global-set-key&#39;</span><span style="color:#e6db74"> KEY with COMMAND.
</span><span style="color:#e6db74"> PREFIX or SUFFIX can wrap the key when passing to </span><span style="color:#e6db74">`global-set-key&#39;</span><span style="color:#e6db74">.&#34;</span>
  (my/map-key key)
  (global-set-key (kbd (<span style="color:#a6e22e">concat</span> prefix key suffix)) command))
(defun my/map-key (key)
  <span style="color:#e6db74">&#34;Map KEY from escape sequence \&#34;\e[emacs-KEY\.&#34;</span>
  (<span style="color:#a6e22e">define-key</span> function-key-map (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;\e[emacs-&#34;</span> key) (kbd key)))

<span style="color:#75715e">;; the most important remapping, M-x</span>
(my/global-map-and-set-key <span style="color:#e6db74">&#34;M-x&#34;</span> <span style="color:#e6db74">&#39;counsel-M-x</span>)

<span style="color:#75715e">;; comment/uncomment: first bind a new key sequence C-/ (subsitute s-/) for commenting codes, then map iterm key to emacs</span>
(map!
 (:after evil
   :m  <span style="color:#e6db74">&#34;C-/&#34;</span> <span style="color:#a6e22e">#&#39;</span>evilnc-comment-or-uncomment-lines))
(my/global-map-and-set-key <span style="color:#e6db74">&#34;C-/&#34;</span> <span style="color:#e6db74">&#39;evilnc-comment-or-uncomment-lines</span>)

<span style="color:#75715e">;; copy, cut, paste</span>
(my/global-map-and-set-key <span style="color:#e6db74">&#34;s-x&#34;</span> <span style="color:#e6db74">&#39;kill-region</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;s-c&#34;</span> <span style="color:#e6db74">&#39;evil-yank</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;s-v&#34;</span> <span style="color:#e6db74">&#39;evil-paste-after</span>)

<span style="color:#75715e">;; create new heading below: first change the default keybinding (s-return) to M-return</span>
(map!
 (:after evil
   :m  <span style="color:#e6db74">&#34;&lt;M-return&gt;&#34;</span> <span style="color:#a6e22e">#&#39;</span>+default/newline-below))
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;M-return&gt;&#34;</span> <span style="color:#e6db74">&#39;+default/newline-below</span>)

<span style="color:#75715e">;; move lines around</span>
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;M-up&gt;&#34;</span> <span style="color:#e6db74">&#39;drag-stuff-up</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;M-down&gt;&#34;</span> <span style="color:#e6db74">&#39;drag-stuff-down</span>)

<span style="color:#75715e">;; meta drag</span>
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;M-S-up&gt;&#34;</span> <span style="color:#e6db74">&#39;org-shiftmetaup</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;M-S-down&gt;&#34;</span> <span style="color:#e6db74">&#39;org-shiftmetadown</span>)

<span style="color:#75715e">;; outline promote/demote (metaleft/right)</span>
(my/global-map-and-set-key <span style="color:#e6db74">&#34;M-h&#34;</span> <span style="color:#e6db74">&#39;org-metaleft</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;M-H&#34;</span> <span style="color:#e6db74">&#39;org-shiftmetaleft</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;M-l&#34;</span> <span style="color:#e6db74">&#39;org-metaright</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;M-L&#34;</span> <span style="color:#e6db74">&#39;org-shiftmetaright</span>)

<span style="color:#75715e">;; for evaluating r codes, not sure whether works or not yet</span>
(my/global-map-and-set-key <span style="color:#e6db74">&#34;M-d&#34;</span> <span style="color:#e6db74">&#39;evil-multiedit-match-symbol-and-next</span>)

<span style="color:#75715e">;; currently I disabled arrow keys for navigation, but command(s) + arrow key still work, and in terminal, use shift + arrow keys for normal arrow key behavior</span>
<span style="color:#75715e">;; use ctrl + hjkl to navigate in function menus</span>
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;s-left&gt;&#34;</span> <span style="color:#e6db74">&#39;evil-backward-char</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;s-right&gt;&#34;</span> <span style="color:#e6db74">&#39;evil-forward-char</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;s-down&gt;&#34;</span> <span style="color:#e6db74">&#39;evil-next-line</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;s-up&gt;&#34;</span> <span style="color:#e6db74">&#39;evil-previous-line</span>)


<span style="color:#75715e">;; create a new delete shortcut for easier access (works in both normal and insert mode)</span>
(map!
 (:after evil
   :m  <span style="color:#e6db74">&#34;s-[&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-delete-backward-char))
(my/global-map-and-set-key <span style="color:#e6db74">&#34;s-[&#34;</span> <span style="color:#e6db74">&#39;evil-delete-backward-char</span>)

<span style="color:#75715e">;; for ess-r short cut</span>
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;C-return&gt;&#34;</span> <span style="color:#e6db74">&#39;ess-eval-line</span>)
(my/global-map-and-set-key <span style="color:#e6db74">&#34;&lt;C-S-return&gt;&#34;</span> <span style="color:#e6db74">&#39;ess-eval-region-or-function-or-paragraph</span>)
</code></pre></div><h3 id="copy-paste-from-external-clipboard--for-terminal-emacs-window">Copy paste from external clipboard (for terminal emacs window)</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq osx-clipboard-mode <span style="color:#66d9ef">t</span>)
</code></pre></div><h4 id="auto-save-and-load-current-session-layout--desktop"><span class="org-todo done ARCV">ARCV</span> auto save and load current session layout (desktop)</h4>
<ul>
<li>State &ldquo;ARCV&rdquo;       from &ldquo;TODO&rdquo;       <span class="timestamp-wrapper"><span class="timestamp">[2020-06-15 Mon 15:07]</span></span></li>
</ul>
<!--listend-->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">
<span style="color:#75715e">;; save current window layout and load later: https://emacs.stackexchange.com/questions/2710/switching-between-window-layouts</span>
<span style="color:#75715e">;; (defvar winstack-stack &#39;()</span>
<span style="color:#75715e">;;   &#34;A Stack holding window configurations.</span>
<span style="color:#75715e">;; Use `winstack-push&#39; and</span>
<span style="color:#75715e">;; `winstack-pop&#39; to modify it.&#34;)</span>

<span style="color:#75715e">;; (defun winstack-push()</span>
<span style="color:#75715e">;;   &#34;Push the current window configuration onto `winstack-stack&#39;.&#34;</span>
<span style="color:#75715e">;;   (interactive)</span>
<span style="color:#75715e">;;   (if (and (window-configuration-p (first winstack-stack))</span>
<span style="color:#75715e">;;          (compare-window-configurations (first winstack-stack) (current-window-configuration)))</span>
<span style="color:#75715e">;;       (message &#34;Current config already pushed&#34;)</span>
<span style="color:#75715e">;;     (progn (push (current-window-configuration) winstack-stack)</span>
<span style="color:#75715e">;;            (message (concat &#34;pushed &#34; (number-to-string</span>
<span style="color:#75715e">;;                                        (length (window-list (selected-frame)))) &#34; frame config&#34;)))))</span>

<span style="color:#75715e">;; (defun winstack-pop()</span>
<span style="color:#75715e">;;   &#34;Pop the last window configuration off `winstack-stack&#39; and apply it.&#34;</span>
<span style="color:#75715e">;;   (interactive)</span>
<span style="color:#75715e">;;   (if (first winstack-stack)</span>
<span style="color:#75715e">;;       (progn (set-window-configuration (pop winstack-stack))</span>
<span style="color:#75715e">;;              (message &#34;popped&#34;))</span>
<span style="color:#75715e">;;     (message &#34;End of window stack&#34;)))</span>

(use-package psession
  :config
  (psession-mode <span style="color:#ae81ff">1</span>))
</code></pre></div><h2 id="org-mode-backends">Org Mode Backends</h2>
<h3 id="org-directory">Org directory</h3>
<p>references: <a href="https://lists.gnu.org/archive/html/emacs-orgmode/2009-10/msg00734.html">https://lists.gnu.org/archive/html/emacs-orgmode/2009-10/msg00734.html</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(setq org-directory <span style="color:#e6db74">&#34;~/GoogleDrive/MarkdownNotes/MDNotes&#34;</span>)
(setq org-agenda-directory <span style="color:#e6db74">&#34;~/GoogleDrive/MarkdownNotes/MDNotes/&#34;</span>)
(setq org-agenda-files (<span style="color:#a6e22e">directory-files</span> (<span style="color:#a6e22e">expand-file-name</span> org-agenda-directory) <span style="color:#66d9ef">t</span>
                                        <span style="color:#e6db74">&#34;^[^\.][^#][[:alnum:]]+\.org$&#34;</span>))
(setq org-default-notes-file (<span style="color:#a6e22e">concat</span> org-directory <span style="color:#e6db74">&#34;/notes.org&#34;</span>))
</code></pre></div><h3 id="org-keywords-and-tags">Org keywords and tags</h3>
<p>Previously I cannot override these settings because I changed setting in M-x
cutomization, now I deleted the content in ~/.emacs.d/.local/custom.el and add
after! org, then things are fine: <a href="https://github.com/hlissner/doom-emacs/issues/546">https://github.com/hlissner/doom-emacs/issues/546</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (after! org
    (setq org-todo-keywords
          <span style="color:#f92672">&#39;</span>(<span style="color:#75715e">;; Sequence for TASKS</span>
            <span style="color:#75715e">;; TODO means it&#39;s an item that needs addressing</span>
            <span style="color:#75715e">;; PEND means it&#39;s dependent on something else happening</span>
            <span style="color:#75715e">;; CANC means it&#39;s no longer necessary to finish</span>
            <span style="color:#75715e">;; DONE means it&#39;s complete</span>
            (sequence <span style="color:#e6db74">&#34;TODO(t@/!)&#34;</span> <span style="color:#e6db74">&#34;PEND(p@/!)&#34;</span> <span style="color:#e6db74">&#34;|&#34;</span> <span style="color:#e6db74">&#34;DONE(d@/!)&#34;</span> <span style="color:#e6db74">&#34;CANC(c@/!)&#34;</span>)

            <span style="color:#75715e">;; Sequence for MULTIMEDIA</span>
            <span style="color:#75715e">;; MARK mark some media for future consuming</span>
            <span style="color:#75715e">;; ING means currently consuming</span>
            <span style="color:#75715e">;; REPO means the media has been consumed, and waiting to be shared in short or long form</span>
            <span style="color:#75715e">;; ARCV media alrady repoed, now archive for future reference</span>
            (sequence <span style="color:#e6db74">&#34;MARK(m@/!)&#34;</span> <span style="color:#e6db74">&#34;ING(i@/!)&#34;</span> <span style="color:#e6db74">&#34;REPO(r@/!)&#34;</span> <span style="color:#e6db74">&#34;|&#34;</span> <span style="color:#e6db74">&#34;ARCV(a@/!)&#34;</span>)
            )))
</code></pre></div><h3 id="org-setup">Org setup</h3>
<p>references: <a href="https://github.com/sk8ingdom/.emacs.d/blob/master/org-mode-config/org-todo-states.el">https://github.com/sk8ingdom/.emacs.d/blob/master/org-mode-config/org-todo-states.el</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (after! org
    <span style="color:#75715e">;; prompt to record time and note when a task is completed</span>
    (setq org-log-done <span style="color:#e6db74">&#39;note</span>)

    <span style="color:#75715e">;; prompt to record time and note when the scheduled date of a task is modified</span>
    (setq org-log-reschedule <span style="color:#e6db74">&#39;note</span>)

    <span style="color:#75715e">;; promopt to record time and note when the deadline of a task is modified</span>
    (setq org-log-redeadline <span style="color:#e6db74">&#39;note</span>)

    <span style="color:#75715e">;; promopt to record time and note when clocking out of a task</span>
    (setq org-log-clock-out <span style="color:#e6db74">&#39;note</span>)

    (setq org-agenda-todo-ignore-scheduled <span style="color:#e6db74">&#39;all</span>)

    <span style="color:#75715e">;; set the scope of line-editing behavior to the visual line (not actual line)</span>
    (setq vim-style-visual-line-move-text <span style="color:#66d9ef">t</span>)
    )

(with-eval-after-load <span style="color:#e6db74">&#39;org</span>
  (add-to-list <span style="color:#e6db74">&#39;org-modules</span> <span style="color:#e6db74">&#39;org-habit</span> <span style="color:#66d9ef">t</span>))
</code></pre></div><h3 id="org-capture">Org capture</h3>
<p>references:
<a href="https://emacs.stackexchange.com/questions/19391/can-t-set-directory-for-org-mode-capture">https://emacs.stackexchange.com/questions/19391/can-t-set-directory-for-org-mode-capture</a>
<a href="https://orgmode.org/manual/Template-expansion.html#Template-expansion">https://orgmode.org/manual/Template-expansion.html#Template-expansion</a>
<a href="https://github.com/sk8ingdom/.emacs.d/blob/master/org-mode-config/org-capture-templates.el">https://github.com/sk8ingdom/.emacs.d/blob/master/org-mode-config/org-capture-templates.el</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (setq org-capture-templates
        <span style="color:#f92672">&#39;</span>(
          (<span style="color:#e6db74">&#34;t&#34;</span> <span style="color:#e6db74">&#34;Todo&#34;</span> entry (file+headline <span style="color:#e6db74">&#34;~/Googledrive/Markdownnotes/MDNotes/todo.org&#34;</span> <span style="color:#e6db74">&#34;Inbox&#34;</span>) <span style="color:#e6db74">&#34;* TODO %?\n  %U\n&#34;</span>)
          (<span style="color:#e6db74">&#34;d&#34;</span> <span style="color:#e6db74">&#34;Drafts&#34;</span> entry (file+headline <span style="color:#e6db74">&#34;~/Googledrive/Markdownnotes/MDNotes/todo.org&#34;</span> <span style="color:#e6db74">&#34;Drafts&#34;</span>) <span style="color:#e6db74">&#34;* ARCV %?\n  %U\n&#34;</span>)
          (<span style="color:#e6db74">&#34;j&#34;</span> <span style="color:#e6db74">&#34;Journal&#34;</span> entry (function org-journal-find-location)
           <span style="color:#e6db74">&#34;* %(format-time-string org-journal-time-format)%^{Title}\n%i%?&#34;</span>)
          )
        )
</code></pre></div><h3 id="org-journal">org-journal</h3>
<p>references: <a href="https://github.com/bastibe/org-journal">https://github.com/bastibe/org-journal</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(customize-set-variable <span style="color:#e6db74">&#39;org-journal-dir</span> <span style="color:#e6db74">&#34;~/GoogleDrive/Markdownnotes/MDNotes/&#34;</span>)
(customize-set-variable <span style="color:#e6db74">&#39;org-journal-date-format</span> <span style="color:#e6db74">&#34;%A, %d %B %Y&#34;</span>)
(customize-set-variable <span style="color:#e6db74">&#39;org-journal-file-format</span> <span style="color:#e6db74">&#34;%Y%m%d.org&#34;</span>)
(require <span style="color:#e6db74">&#39;org-journal</span>)
  <span style="color:#75715e">;; (use-package org-journal</span>
  <span style="color:#75715e">;;   :ensure t</span>
  <span style="color:#75715e">;;   :defer t</span>
  <span style="color:#75715e">;;   :custom</span>
  <span style="color:#75715e">;;   (org-journal-dir &#34;~/GoogleDrive/MarkdownNotes/MDNotes/&#34;)</span>
  <span style="color:#75715e">;;   (org-journal-file-format &#34;%Y%m%d.org&#34;)</span>
  <span style="color:#75715e">;;   (org-journal-date-format &#34;%A, %B %d %Y&#34;))</span>
(defun org-journal-find-location ()
  <span style="color:#75715e">;; Open today&#39;s journal, but specify a non-nil prefix argument in order to</span>
  <span style="color:#75715e">;; inhibit inserting the heading; org-capture will insert the heading.</span>
  (org-journal-new-entry <span style="color:#66d9ef">t</span>)
  <span style="color:#75715e">;; Position point on the journal&#39;s top-level heading so that org-capture</span>
  <span style="color:#75715e">;; will add the new entry as a child entry.</span>
  (<span style="color:#a6e22e">goto-char</span> (<span style="color:#a6e22e">point-min</span>)))
</code></pre></div><h3 id="org-babel">org-babel</h3>
<p>Write plain text in org mode with embedded source block supported by 
  <a href="https://orgmode.org/worg/org-contrib/babel/index.html">Babel: active code in Org-mode</a>
also see <a href="https://orgmode.org/manual/Working-with-Source-Code.html">https://orgmode.org/manual/Working-with-Source-Code.html</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (setq org-babel-load-languages
        <span style="color:#f92672">&#39;</span>(
          (emacs-lisp. <span style="color:#66d9ef">t</span>)
          (lisp. <span style="color:#66d9ef">t</span>)
          (org. <span style="color:#66d9ef">t</span>)
          (python. <span style="color:#66d9ef">t</span>)
          (latex. <span style="color:#66d9ef">t</span>)
          (R. <span style="color:#66d9ef">t</span>)))

<span style="color:#75715e">;; activate Babel languages</span>
(org-babel-do-load-languages
 <span style="color:#e6db74">&#39;org-babel-load-languages</span>
 org-babel-load-languages)

  (add-hook <span style="color:#e6db74">&#39;org-babel-after-execute-hook</span> <span style="color:#e6db74">&#39;org-display-inline-images</span>)
  (add-hook <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#e6db74">&#39;org-display-inline-images</span>)
</code></pre></div><h2 id="org-mode-looks">Org Mode Looks</h2>
<h3 id="change-the-character-that-displays-on-collapsed-headings">Change the character that displays on collapsed headings</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (setq org-ellipsis <span style="color:#e6db74">&#34; ‚ñº &#34;</span>)
</code></pre></div><h3 id="line-wrapping">Line wrapping</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; visual line mode will wrap lines at the window border without actually insert line breaks</span>
(add-hook <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>visual-line-mode)

<span style="color:#75715e">;; turn off auto fill mode so there won&#39;t be any hard line breaks after the wrap column</span>
(add-hook <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>turn-off-auto-fill)

<span style="color:#75715e">;; also add (setq evil-respect-visual-line-mode t) to init.el, enable navigation in visual line mode (evel-next-visual-line)</span>
(add-hook <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>adaptive-wrap-prefix-mode)
</code></pre></div><h2 id="org-mode-editing">Org Mode Editing</h2>
<h3 id="key-binding-for-showing-all-todo-headings">Key binding for showing all todo headings</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (global-set-key (kbd <span style="color:#e6db74">&#34;C-c t&#34;</span>) <span style="color:#e6db74">&#39;org-show-todo-tree</span>)
</code></pre></div><h3 id="key-binding-for-outline-quicklook-goto">Key binding for outline quicklook/goto</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (global-set-key (kbd <span style="color:#e6db74">&#34;C-c r&#34;</span>) <span style="color:#e6db74">&#39;counsel-outline</span>)
</code></pre></div><h3 id="key-binding-for-jumping-to-the-end-of-the-line">Key binding for jumping to the end of the line</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (map!
   (:after evil
     :m  <span style="color:#e6db74">&#34;C-e&#34;</span> <span style="color:#a6e22e">#&#39;</span>doom/forward-to-last-non-comment-or-eol))
</code></pre></div><h3 id="key-binding-to-insert-newlines-above-and-below">Key binding to insert newlines above and below</h3>
<p>Similar to 
  <a href="https://github.com/tpope/vim-unimpaired">vim-unimpaired</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (map!
   (:after evil
     :m  <span style="color:#e6db74">&#34;] SPC&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-motion-insert-newline-below
     :m  <span style="color:#e6db74">&#34;[ SPC&#34;</span> <span style="color:#a6e22e">#&#39;</span>evil-motion-insert-newline-above))
</code></pre></div><h3 id="function-to-duplicate-certain-line">Function to duplicate certain line</h3>
<p>inspired by Sublime Text cmd + shift + d (ref: <a href="https://stackoverflow.com/a/88828">https://stackoverflow.com/a/88828</a>)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (defun duplicate-line()
    (interactive)
    (move-beginning-of-line <span style="color:#ae81ff">1</span>)
    (kill-line)
    (yank)
    (open-line <span style="color:#ae81ff">1</span>)
    (<span style="color:#a6e22e">forward-line</span> <span style="color:#ae81ff">1</span>)
    (yank)
    )
(global-set-key (kbd <span style="color:#e6db74">&#34;C-c D&#34;</span>) <span style="color:#e6db74">&#39;duplicate-line</span>)
</code></pre></div><h3 id="function-to-create-new-scratch-buffer-in-org">Function to create new scratch buffer in Org</h3>
<p>ref: <a href="https://emacs.stackexchange.com/questions/16492/is-it-possible-to-create-an-org-mode-scratch-buffer">https://emacs.stackexchange.com/questions/16492/is-it-possible-to-create-an-org-mode-scratch-buffer</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(defun org-buffer-new ()
<span style="color:#e6db74">&#34;Create a new scratch buffer -- \*hello-world\*&#34;</span>
(interactive)
  (let ((n <span style="color:#ae81ff">0</span>)
        bufname buffer)
    (catch <span style="color:#e6db74">&#39;done</span>
      (while <span style="color:#66d9ef">t</span>
        (setq bufname (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;*org-scratch&#34;</span>
          (if (<span style="color:#a6e22e">=</span> n <span style="color:#ae81ff">0</span>) <span style="color:#e6db74">&#34;&#34;</span> (int-to-string n))
            <span style="color:#e6db74">&#34;*&#34;</span>))
        (setq n (<span style="color:#a6e22e">1+</span> n))
        (when (not (<span style="color:#a6e22e">get-buffer</span> bufname))
          (setq buffer (<span style="color:#a6e22e">get-buffer-create</span> bufname))
          (with-current-buffer buffer
            (org-mode))
          <span style="color:#75715e">;; When called non-interactively, the `t` targets the other window (if it exists).</span>
          (throw <span style="color:#e6db74">&#39;done</span> (display-buffer buffer <span style="color:#66d9ef">t</span>))) ))))

  <span style="color:#75715e">;; SPC x is the default doom new scratch buffer key binding</span>
  (global-set-key (kbd <span style="color:#e6db74">&#34;C-c x&#34;</span>) <span style="color:#e6db74">&#39;org-buffer-new</span>)
</code></pre></div><h3 id="auto-update-org-toc">Auto update Org toc</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(if (require <span style="color:#e6db74">&#39;toc-org</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
    (add-hook <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#e6db74">&#39;toc-org-mode</span>)

    <span style="color:#75715e">;; enable in markdown, too</span>
    (add-hook <span style="color:#e6db74">&#39;markdown-mode-hook</span> <span style="color:#e6db74">&#39;toc-org-mode</span>))
</code></pre></div><h2 id="markdown-mode-looks">Markdown Mode Looks</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; similar with org mode, use visual line mode without auto fill</span>
(add-hook <span style="color:#e6db74">&#39;markdown-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>visual-line-mode)
(add-hook <span style="color:#e6db74">&#39;markdown-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>turn-off-auto-fill)

<span style="color:#75715e">;; disable syntax checker (markdownlint-cli) for markdown mode</span>
(setq-default flycheck-disabled-checkers <span style="color:#f92672">&#39;</span>(markdown-markdownlint-cli))
</code></pre></div><h2 id="hugo-related-config">Hugo Related Config</h2>
<p>references:
<a href="https://ox-hugo.scripter.co/">https://ox-hugo.scripter.co/</a>
<a href="https://mstempl.netlify.com/post/static-website-with-emacs-and-hugo/">https://mstempl.netlify.com/post/static-website-with-emacs-and-hugo/</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(with-eval-after-load <span style="color:#e6db74">&#39;ox</span>
  (require <span style="color:#e6db74">&#39;ox-hugo</span>))
</code></pre></div><h2 id="r-related-config">R Related Config</h2>
<h3 id="ess-r-config">ESS R config</h3>
<p>references: <a href="https://iqss.github.io/IQSS.emacs/init.html#run%5Fr%5Fin%5Femacs%5F(ess)">https://iqss.github.io/IQSS.emacs/init.html#run%5Fr%5Fin%5Femacs%5F(ess)</a>
useful functions: R (run-ess-r), popup/raise, ess-eval-region-or-function-or-paragraph-and-step</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (with-eval-after-load <span style="color:#e6db74">&#34;ess&#34;</span>
    (add-hook <span style="color:#e6db74">&#39;ess-r-mode-hook</span>
              (lambda()
                <span style="color:#e6db74">&#39;eglot-ensure</span>
                (<span style="color:#a6e22e">make-local-variable</span> <span style="color:#e6db74">&#39;company-backends</span>)
                (delete-dups (push <span style="color:#e6db74">&#39;company-capf</span> company-backends))
                (delete-dups (push <span style="color:#e6db74">&#39;company-files</span> company-backends))))
    (require <span style="color:#e6db74">&#39;ess-mode</span>)

    <span style="color:#75715e">;; evaluate codes with ctrl + enter (by line) or ctrl + shift + enter (by paragraph)</span>
    (<span style="color:#a6e22e">define-key</span> ess-mode-map (kbd <span style="color:#e6db74">&#34;&lt;C-return&gt;&#34;</span>) <span style="color:#e6db74">&#39;ess-eval-line</span>)
    (<span style="color:#a6e22e">define-key</span> ess-mode-map (kbd <span style="color:#e6db74">&#34;&lt;C-S-return&gt;&#34;</span>) <span style="color:#e6db74">&#39;ess-eval-region-or-function-or-paragraph</span>)
    <span style="color:#75715e">;; define the same keybindings for normal state (otheriwse the keybinding will only work in edit state)</span>
    (with-eval-after-load <span style="color:#e6db74">&#39;evil-maps</span>
      (<span style="color:#a6e22e">define-key</span> evil-normal-state-map (kbd <span style="color:#e6db74">&#34;&lt;C-return&gt;&#34;</span>) <span style="color:#e6db74">&#39;ess-eval-line</span>))
    (with-eval-after-load <span style="color:#e6db74">&#39;evil-maps</span>
      (<span style="color:#a6e22e">define-key</span> evil-normal-state-map (kbd <span style="color:#e6db74">&#34;&lt;C-S-return&gt;&#34;</span>) <span style="color:#e6db74">&#39;ess-eval-region-or-function-or-paragraph</span>))


    <span style="color:#75715e">;; Set ESS options</span>
    (setq
     ess-auto-width <span style="color:#e6db74">&#39;window</span>
     ess-use-auto-complete <span style="color:#66d9ef">nil</span>
     ess-use-company <span style="color:#e6db74">&#39;t</span>
     <span style="color:#75715e">;; ess-r-package-auto-set-evaluation-env nil</span>
     inferior-ess-same-window <span style="color:#66d9ef">nil</span>
   ess-indent-with-fancy-comments <span style="color:#66d9ef">nil</span> <span style="color:#75715e">; don&#39;t indent comments</span>
     ess-eval-visibly <span style="color:#66d9ef">t</span>                 <span style="color:#75715e">; enable echoing input</span>
     ess-eval-empty <span style="color:#66d9ef">t</span>                   <span style="color:#75715e">; don&#39;t skip non-code lines.</span>
     ess-ask-for-ess-directory <span style="color:#66d9ef">nil</span> <span style="color:#75715e">; start R in the working directory by default</span>
     ess-ask-for-ess-directory <span style="color:#66d9ef">nil</span> <span style="color:#75715e">; start R in the working directory by default</span>
     ess-R-font-lock-keywords      <span style="color:#75715e">; font-lock, but not too much</span>
     (quote
      ((ess-R-fl-keyword:modifiers)
       (ess-R-fl-keyword:fun-defs <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
       (ess-R-fl-keyword:keywords <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
       (ess-R-fl-keyword:assign-ops  <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
       (ess-R-fl-keyword:constants <span style="color:#f92672">.</span> <span style="color:#ae81ff">1</span>)
       (ess-fl-keyword:fun-calls <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
       (ess-fl-keyword:numbers)
       (ess-fl-keyword:operators <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
       (ess-fl-keyword:delimiters)
       (ess-fl-keyword:=)
       (ess-R-fl-keyword:F&amp;T)))))
</code></pre></div><h3 id="combine-r-and-markdown-mode-in-one-buffer-with-polymode">Combine R and markdown mode in one buffer with polymode</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">  (use-package polymode)
  (use-package poly-R)
  (use-package poly-markdown
    :config
    (add-to-list <span style="color:#e6db74">&#39;auto-mode-alist</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;\\.rmd&#34;</span> <span style="color:#f92672">.</span> poly-markdown+R-mode))
    )
(with-eval-after-load <span style="color:#e6db74">&#34;markdown&#34;</span>
  (use-package poly-markdown))
(with-eval-after-load <span style="color:#e6db74">&#34;org&#34;</span>
  (use-package poly-org))
</code></pre></div><h2 id="appendix">Appendix</h2>
<p>Other private configurations that are not yet in literate format.</p>
<h3 id="init-dot-el">init.el</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(doom! :input

       :completion
       (company +auto +childframe)
       (ivy +fuzzy +childframe)

       :ui
       (popup +all +defaults)
       doom
       doom-dashboard
       doom-quit
       modeline
       ophints
       fill-column
       hl-todo
       nav-flash
       neotree
       vc-gutter
       vi-tilde-fringe
       window-select

       :editor
       (evil +everywhere)
       file-templates
       <span style="color:#a6e22e">format</span>
       lispy
       multiple-cursors
       rotate-text
       snippets
       fold

       :emacs
       (dired +icons)
       electric
       vc

       :term
       eshell
       term

       :checkers
       spell
       syntax

       :tools
       <span style="color:#a6e22e">eval</span>
       (lookup
        +devdocs
        +docsets)
       gist
       make
       magit
       pass
       rgb
       tmux
       upload

       :lang
       data              <span style="color:#75715e">; config/data formats</span>
       emacs-lisp        <span style="color:#75715e">; drown in parentheses</span>
       ess               <span style="color:#75715e">; emacs speaks statistics</span>
       latex             <span style="color:#75715e">; writing papers in Emacs has never been so fun</span>
       markdown          <span style="color:#75715e">; writing docs for people to ignore</span>
       (org              <span style="color:#75715e">; organize your plain life in plain text</span>
        +dragndrop       <span style="color:#75715e">; drag &amp; drop files/images into org buffers</span>
        +hugo            <span style="color:#75715e">; use Emacs for hugo blogging</span>
        +pandoc          <span style="color:#75715e">; export-with-pandoc support</span>
        +attach
        +babel
        +capture
        +export
        +present)        <span style="color:#75715e">; using org-mode for presentations</span>

       :config
       (default +bindings +smartparens)
       literate)

(setq evil-respect-visual-line-mode <span style="color:#66d9ef">t</span>)
</code></pre></div><h3 id="pacakges-dot-el">pacakges.el</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(package! term-cursor
  :recipe (:host github :repo <span style="color:#e6db74">&#34;h0d/term-cursor.el&#34;</span>))

(package! osx-clipboard
  :recipe (:host github :repo <span style="color:#e6db74">&#34;joddie/osx-clipboard-mode&#34;</span>))

(package! org-journal)
(package! adaptive-wrap)
(package! ox-hugo)
(package! polymode)
(package! poly-markdown)
(package! poly-R)
(package! poly-org)
(package! toc-org)
(package! psession)

<span style="color:#75715e">;; completion/company</span>
(package! prescient)
(package! company-prescient)

<span style="color:#75715e">;; completion/ivy</span>
(package! all-the-icons-ivy)
(package! counsel-tramp)

<span style="color:#75715e">;; emacs/dired</span>
(package! peep-dired)
(package! diredfl)

<span style="color:#75715e">;; feature/snippets</span>
(package! yasnippet-snippets)

<span style="color:#75715e">;; lang/apache</span>
(package! apache-mode)

<span style="color:#75715e">;; lang/pkgbuild</span>
(package! pkgbuild-mode)

<span style="color:#75715e">;; lang/nginx</span>
(package! nginx-mode)

<span style="color:#75715e">;; lang/org</span>
(package! ob-http)


<span style="color:#75715e">;; lang/systemd</span>
(package! systemd)

<span style="color:#75715e">;; lang/sh</span>
(package! flycheck-checkbashisms)

<span style="color:#75715e">;; tools/tldr</span>
<span style="color:#75715e">;; (package! tldr)</span>

<span style="color:#75715e">;; ui/modeline</span>
(package! doom-modeline)
(package! anzu)
(package! evil-anzu)
</code></pre></div><h2 id="source-files">Source Files</h2>
<ul>
<li>
  <a href="/static/files/init.el">init.el</a></li>
<li>
  <a href="/static/files/pakages.el">pakages.el</a></li>
<li>
  <a href="/static/files/config.org">config.org</a></li>
<li>
  <a href="/static/files/EmacsMain.itermkeymap">iTerm2 keymapping</a></li>
</ul>
</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">





  <div>
    <a class="flex align-center" href="https://github.com/Eejain/itflows/tree/master/content/posts/My%20Doom%20Emacs%20Configuration.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>

</div>

 
      
  
  <div class="book-comments">
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "soitflows" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>
  
 
        <p align="center">
    <br>
    <sup>
       <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />This work by <a xmlns:cc="http://creativecommons.org/ns#" href="https://www.soitflows.xyz/" property="cc:attributionName" rel="cc:attributionURL">Naskuv 2018‚Äì2020</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
<br>
        Powered by <a href="http://www.gohugo.io/">Hugo</a> + <a href="https://ox-hugo.scripter.co/">ox-hugo</a>
    </sup>
    </p>

      </footer>


      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#intro">Intro</a>
          <ul>
            <li><a href="#forewords">Forewords</a></li>
            <li><a href="#instructions">Instructions</a></li>
          </ul>
        </li>
        <li><a href="#global-backends">Global Backends</a>
          <ul>
            <li><a href="#doom-default">Doom default</a></li>
            <li><a href="#change-the-default-encoding-to-utf-8-more-suitable-for-multi-lan-environment">Change the default encoding to UTF-8, more suitable for multi-lan environment</a></li>
            <li><a href="#do-not-create-lockfiles-for-files-being-edited">Do not create lockfiles for files being edited</a></li>
            <li><a href="#company-config">Company config</a></li>
            <li><a href="#ivy-config">Ivy config</a></li>
            <li><a href="#dired-config">Dired config</a></li>
          </ul>
        </li>
        <li><a href="#global-looks">Global Looks</a>
          <ul>
            <li><a href="#color-scheme-and-font">Color scheme and font</a></li>
            <li><a href="#set-up-cursor-shape-in-iterm-emacs-for-indicating-edit-normal-mode">Set up cursor shape in iterm emacs for indicating edit/normal mode</a></li>
            <li><a href="#function-to-set-visual-line-width">Function to set visual line width</a></li>
          </ul>
        </li>
        <li><a href="#global-editing">Global Editing</a>
          <ul>
            <li><a href="#key-binding-for-emacs-in-iterm2-environment">Key binding for Emacs in iTerm2 environment</a></li>
            <li><a href="#copy-paste-from-external-clipboard--for-terminal-emacs-window">Copy paste from external clipboard (for terminal emacs window)</a></li>
          </ul>
        </li>
        <li><a href="#org-mode-backends">Org Mode Backends</a>
          <ul>
            <li><a href="#org-directory">Org directory</a></li>
            <li><a href="#org-keywords-and-tags">Org keywords and tags</a></li>
            <li><a href="#org-setup">Org setup</a></li>
            <li><a href="#org-capture">Org capture</a></li>
            <li><a href="#org-journal">org-journal</a></li>
            <li><a href="#org-babel">org-babel</a></li>
          </ul>
        </li>
        <li><a href="#org-mode-looks">Org Mode Looks</a>
          <ul>
            <li><a href="#change-the-character-that-displays-on-collapsed-headings">Change the character that displays on collapsed headings</a></li>
            <li><a href="#line-wrapping">Line wrapping</a></li>
          </ul>
        </li>
        <li><a href="#org-mode-editing">Org Mode Editing</a>
          <ul>
            <li><a href="#key-binding-for-showing-all-todo-headings">Key binding for showing all todo headings</a></li>
            <li><a href="#key-binding-for-outline-quicklook-goto">Key binding for outline quicklook/goto</a></li>
            <li><a href="#key-binding-for-jumping-to-the-end-of-the-line">Key binding for jumping to the end of the line</a></li>
            <li><a href="#key-binding-to-insert-newlines-above-and-below">Key binding to insert newlines above and below</a></li>
            <li><a href="#function-to-duplicate-certain-line">Function to duplicate certain line</a></li>
            <li><a href="#function-to-create-new-scratch-buffer-in-org">Function to create new scratch buffer in Org</a></li>
            <li><a href="#auto-update-org-toc">Auto update Org toc</a></li>
          </ul>
        </li>
        <li><a href="#markdown-mode-looks">Markdown Mode Looks</a></li>
        <li><a href="#hugo-related-config">Hugo Related Config</a></li>
        <li><a href="#r-related-config">R Related Config</a>
          <ul>
            <li><a href="#ess-r-config">ESS R config</a></li>
            <li><a href="#combine-r-and-markdown-mode-in-one-buffer-with-polymode">Combine R and markdown mode in one buffer with polymode</a></li>
          </ul>
        </li>
        <li><a href="#appendix">Appendix</a>
          <ul>
            <li><a href="#init-dot-el">init.el</a></li>
            <li><a href="#pacakges-dot-el">pacakges.el</a></li>
          </ul>
        </li>
        <li><a href="#source-files">Source Files</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>
  

</body>

</html>












